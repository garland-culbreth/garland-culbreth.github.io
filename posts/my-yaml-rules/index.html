<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://garland-culbreth.github.io name=base><title>
            
                Keeping my YAML sanity
            
        </title><meta content="Keeping my YAML sanity" property=og:title><link href=https://garland-culbreth.github.io/fonts.css rel=stylesheet><link media="(prefers-color-scheme: dark)" href=/syntax-theme-dark.css rel=stylesheet><link media="(prefers-color-scheme: light)" href=/syntax-theme-light.css rel=stylesheet><script defer src=https://garland-culbreth.github.io/js/codeblock.js></script><script src=https://garland-culbreth.github.io/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://garland-culbreth.github.io/atom.xml rel=alternate title=garland-culbreth type=application/atom+xml><link href=https://garland-culbreth.github.io/theme/light.css rel=stylesheet><link href=https://garland-culbreth.github.io/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://garland-culbreth.github.io/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://garland-culbreth.github.io/main.css media=screen rel=stylesheet><body><div class=left-content></div><div class=content><nav><div class=left-nav><a href=https://garland-culbreth.github.io>garland-culbreth</a><div class=socials><a class=social href=https://linkedin.com/in/garland-culbreth rel=me> <img alt=LinkedIn src=https://garland-culbreth.github.io/icons/social/linkedin.svg> </a><a class=social href=https://github.com/garland-culbreth rel=me> <img alt=GitHub src=https://garland-culbreth.github.io/icons/social/github.svg> </a><a class=social href=https://orcid.org/0000-0002-3096-4834 rel=me> <img alt=ORCiD src=https://garland-culbreth.github.io/icons/social/orcid.svg> </a></div></div><div class=right-nav><a href=https://garland-culbreth.github.io/about style=margin-right:.25rem>/about</a><a href=https://garland-culbreth.github.io/projects style=margin-right:.25rem>/projects</a><a href=https://garland-culbreth.github.io/posts style=margin-right:.25rem>/posts</a><a href=https://garland-culbreth.github.io/tags style=margin-right:.25rem>/tags</a><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://garland-culbreth.github.io/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://garland-culbreth.github.io/icons/moon.svg> </a><script>updateItemToggleTheme()</script></div></nav><div data-selector="main article p" class=visible-element-observer-root><main><article><div class=title><div class=page-header>Keeping my YAML sanity</div><div class=meta>Posted on <time>2025-06-29</time><span class=tags-label> :: </span><span class=tags> <a class=post-tag href=https://garland-culbreth.github.io/tags/config/>config</a> <a class=post-tag href=https://garland-culbreth.github.io/tags/software/>software</a> </span></div></div><section class=body><p>I work with a lot of YAML configuration files in my day to day. Although they're convenient most of the time, YAML's pitfalls still wind me up occasionally. So I made some personal rules to follow.<p>Most of these are motivated by <a href=https://hitchdev.com/strictyaml/features-removed/>StrictYAML's motivations for removing YAML's most pitfall-creating features</a>, and are supposed to mitigate pitfalls introduced by YAML's implicit typing. I don't find automatic typing more human-readable or otherwise helpful, and it opens up all sorts of opportunities for unexpected behavior.<h1 id=always-use-safe-loading><a aria-label="Anchor link for: always-use-safe-loading" class=zola-anchor href=#always-use-safe-loading>Always use safe loading</a></h1><p>YAML doesn't sanitize inputs, meaning there's a risk that arbitrary code could be executed when loading the YAML unless using safe loading. With Python's <code>pyyaml</code> for example, just always load YAML with <code>yaml.safe_load()</code>.<h1 id=always-put-strings-in-quotes><a aria-label="Anchor link for: always-put-strings-in-quotes" class=zola-anchor href=#always-put-strings-in-quotes>Always put strings in quotes</a></h1><p>YAML doesn't require string-typed values to be surrounded in quotes. Both values in the following block read in as strings:<pre class="language-yml z-code" data-lang=yml><code class=language-yml data-lang=yml><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">one</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Stuff</span>
</span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">two</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">"</span>Things<span class="z-punctuation z-definition z-string z-end z-yaml">"</span></span>
</span></code></pre><p>If the string contains special characters but isn't surrounded in <code>""</code> quotes, YAML might read it in strangely. This also helps ensure number-like strings aren't interpreted as real numbers:<pre class="language-yml z-code" data-lang=yml><code class=language-yml data-lang=yml><span class="z-source z-yaml"><span class="z-comment z-line z-number-sign z-yaml"><span class="z-punctuation z-definition z-comment z-line z-number-sign z-yaml">#</span> Do
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">version</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-quoted z-double z-yaml"><span class="z-punctuation z-definition z-string z-begin z-yaml">"</span>1.2<span class="z-punctuation z-definition z-string z-end z-yaml">"</span></span>
</span><span class="z-source z-yaml">
</span><span class="z-source z-yaml"><span class="z-comment z-line z-number-sign z-yaml"><span class="z-punctuation z-definition z-comment z-line z-number-sign z-yaml">#</span> Don't
</span></span><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">version</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-constant z-numeric z-float z-decimal z-yaml">1<span class="z-punctuation z-separator z-decimal z-yaml">.</span>2</span>
</span></code></pre><p>YAML interprets the unquoted value as a number, but you need to pass it as a string you have to quote it and if you forget unexpected results can ensue.<p>Annoyingly, YAML interprets single quotes <code>''</code> and double quotes <code>""</code> differently, which is a whole other problem. So unless there's a specific syntactic need, just always use double quotes.<h1 id=use-only-true-and-false-for-booleans><a aria-label="Anchor link for: use-only-true-and-false-for-booleans" class=zola-anchor href=#use-only-true-and-false-for-booleans>Use only <code>true</code> and <code>false</code> for Booleans</a></h1><p>See <a href=https://hitchdev.com/strictyaml/why/implicit-typing-removed/>YAML's Norway problem</a>. YAML permits <code>no</code>, <code>No</code>, and <code>NO</code> as acceptable Boolean keywords, translating them to <code>false</code>. But <code>"NO"</code> is the ISO 639 Alpha-2 code for the Norwegian language. YAML's automatic typing will happily break your configuration because you added better accessibility. So just never use anything but <code>true</code> and <code>false</code>.<h1 id=use-only-null-for-null-values><a aria-label="Anchor link for: use-only-null-for-null-values" class=zola-anchor href=#use-only-null-for-null-values>Use only <code>null</code> for null values</a></h1><p>YAML permits <code>null</code>, <code>Null</code>, and <code>NULL</code>, along with <code>~</code>, for indicating null values. For consistency always use <code>null</code>. YAML really seems to love maximalism, I have no idea why.<h1 id=keep-anchors-and-references-to-a-minimum><a aria-label="Anchor link for: keep-anchors-and-references-to-a-minimum" class=zola-anchor href=#keep-anchors-and-references-to-a-minimum>Keep anchors and references to a minimum</a></h1><p>Anchors can be convenient but if you find yourself using a lot of them that's probably a sign you should re-think your configuration structure and design it better.</section></article></main></div><div class=giscus></div><script async crossorigin issue-term=pathname repo=YOUR_NAME/YOUR_REPO src=https://utteranc.es/client.js theme=github-light></script></div><div class=right-content></div>